{"version":3,"file":"FB3DOM.js","sourceRoot":"","sources":["FB3DOM.ts"],"names":["FB3DOM","FB3DOM.AsyncLoadConsumer","FB3DOM.AsyncLoadConsumer.constructor","FB3DOM.AsyncLoadConsumer.BlockLoaded","FB3DOM.PageContainer","FB3DOM.PageContainer.constructor","FB3DOM.DOM","FB3DOM.DOM.constructor","FB3DOM.DOM.GetCloseTag","FB3DOM.DOM.GetInitTag","FB3DOM.DOM.CheckAndPullRequiredBlocks","FB3DOM.DOM.AfterHeaderLoaded","FB3DOM.DOM.Init","FB3DOM.DOM.GetHTMLAsync","FB3DOM.DOM.LoadChunks","FB3DOM.DOM.ChunkUrl","FB3DOM.DOM.ArtID2URL","FB3DOM.DOM.GetElementByAddr","FB3DOM.DOM.GetAddrByXPath","FB3DOM.DOM.GetXPathFromPos","FB3DOM.DOM.GetHTML","FB3DOM.DOM.OnChunkLoaded","FB3DOM.DOM.CheckRangeLoaded","FB3DOM.DOM.XPChunk"],"mappings":"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"}